<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Entity Framework Core: Querying views, but manipulating tables | Thoughts, stories and ideas</title>
<meta name=keywords content><meta name=description content="TODO"><meta name=author content="Michael Bisbjerg"><link rel=canonical href=https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/><link crossorigin=anonymous href=/assets/css/stylesheet.36ab24e4c1b924360adfc391166b0e8914323d9d6ffa42a50f9c6c435c5e1831.css integrity="sha256-Nqsk5MG5JDYK38ORFmsOiRQyPZ1v+kKlD5xsQ1xeGDE=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.mbwarez.dk.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.mbwarez.dk.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.mbwarez.dk.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.mbwarez.dk.github.io/apple-touch-icon.png><link rel=mask-icon href=https://blog.mbwarez.dk.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/"><meta property="og:site_name" content="Thoughts, stories and ideas"><meta property="og:title" content="Entity Framework Core: Querying views, but manipulating tables"><meta property="og:description" content="TODO"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-08T16:43:12+00:00"><meta property="article:modified_time" content="2023-06-08T16:43:12+00:00"><meta property="og:image" content="https://blog.mbwarez.dk.github.io/DALL-E-2023-06-08-19.24.02.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.mbwarez.dk.github.io/DALL-E-2023-06-08-19.24.02.png"><meta name=twitter:title content="Entity Framework Core: Querying views, but manipulating tables"><meta name=twitter:description content="TODO"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.mbwarez.dk.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Entity Framework Core: Querying views, but manipulating tables","item":"https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Entity Framework Core: Querying views, but manipulating tables","name":"Entity Framework Core: Querying views, but manipulating tables","description":"TODO","keywords":[],"articleBody":"I had a use case for EF Core, where I wanted to use Entity Framework Core to query a database view while supporting updating the database through its classic add/update/delete methods. Specifically, I’d like to enrich my entities with extra info, such as looking up a value, much like a computed column – but since it’s in the database, I can perform filtering on these queried values. The proposed solutions may not scale at all, so reader discretion is advised.\nExample problemImagine an entity, Entity, which has the properties (Id, DeviceId) and another entity, Friendly, which has the properties (DeviceId, FriendlyName). I want to be able to perform queries that allow the user to filter on FriendlyName, and I want to make this as seamless as possible in EF. Added to that, not all DeviceId's may have FriendlyNames, so it's an optional relationship. This example could also extend into more complex relationships, like having a spatial coordinate and wanting a \"location name\" for this coordinate which requires looking up in another table containing polygons - so it may not always be exact value matching.\nThings that didn't workI've tried several things.\nFor starters, a Computed Column would've been awesome, but neither MySQL nor PostgreSQL allow a lot of stuff here. Typically, anything outside the current table (and row) is disallowed (functions, stored procedures, queries, ..).\nCreate the entity, Entity with (Id, DeviceId, FriendlyName), but modify the table mapping such that FriendlyName is:\nNot mapped: This makes EF not query the field at allMapped, but marked as Database Generated on Add and Update: This queries the field, and at the same time avoids insert / updating it - but it requires the property to exist in the table. This would be great with Computed Columns, but they are unfortunately quite limited in MySQL and PostgreSQL.Another approach is using a view, where the view performs the necessary query to enrich the table with the extra property FriendlyName.\nUse the Fluent API to map the entity to a Table and a View at the same time: This has the fun side effect that insert/add/update seem to happen on the table, but querying happens in the view. Combine this with the above and we can avoid attempting to write to the view-only FriendlyName. Unfortunately, in the case of adding, EF tries to fetch the generated value for FriendlyName, not from the view, but from the table. This obviously fails as the table does not have the property.EF also supports some strategies to split entities up into multiple tables. This has the drawback that these relationships must exist (they're required), and that they must work as foreign key relationships (exact value matching). Other than that, this works as a form of automatic joining of tables to perform stuff, which is also acceptable for me.\nLike splitting, there is also a strategy of \"discriminating\" multiple types into the same table. This can be done with for example an Entity and EnrichedEntity on top of a view. In this case, we map the two types to the same underlying view, and in our application, we add/update/delete the Entity type. At query time though, EF will create either Entity or EnrichedEntity types, based on the existence of the FriendlyName property. The drawback here is obviously the two types needed, and that queried entities cannot be served back to for example delete or update, as EF will attempt to manipulate the read-only FriendlyName field.\nAnd finally, in EF 7, a new SplitToTable and SplitToView were introduced. These would've been amazing if they could mix. The SplitToXXX functions are an extremely convenient shorthand to ensure that a single entity can live in multiple tables or views. I would have liked to use it with a table for my entity and a view for my computed column(s). I would have liked EF to query both the table and the view, but only manipulate the table - unfortunately splits have to be across only tables or only views.\nThings that might work, an auto-include relationship with no foreign keyWe all know we can make entities related like the following pseudo code snippet. What this gives us, is an automatic join when querying Entity to also populate FriendlyEntity. class Entity { string Id; string DeviceId; Friendly FriendlyEntity; } class Friendly { string DeviceId; string FriendlyName; } // Join the two in model building var entity = modelBuilder.Entity(); entity.HasOne(s =\u003e s.FriendlyEntity) .WithMany() // Prevent setting the relationship to null at any point .OnDelete(DeleteBehavior.ClientNoAction) .HasForeignKey(s =\u003e s.DeviceId) .HasPrincipalKey(s =\u003e s.DeviceId) .IsRequired(false); entity.Navigation(s =\u003e s.FriendlyName).AutoInclude(); While the relationship technically is optional, at least in my experience with Pomelo, the migrations generated will create a foreign key constraint. This means that I cannot add a new Entity that does not have a corresponding Friendly entity in the database. If we hack out that foreign key constraint from the migrations, this is a completely valid solution. It requires some maintenance though to keep the FK relationship out of migrations (EF will assume it exists and possible update it, delete it etc. in the future).\nThings that might work, a view and stored proceduresIf we create an entity that matches a view we want, we can then seamlessly query on that view and let the DB do all the heavy lifting of joining stuff up. EF will allow us to update the entities, as some views are updateable, but most likely my views won't be: they join tables. What I instead can do, is map the mutations to SP's, and simply use those to redirect add/update/delete to the backing table.\nclass Entity { string Id; string DeviceId; string FriendlyName; } // Map to a view in model building var entity = modelBuilder.Entity(); entity.ToView(\"entity_view\");\n// Map to stored procedures entity.InsertUsingStoredProcedure(\"entity_sp_insert\", sp =\u003e { sp.HasParameter(s =\u003e s.Id, s =\u003e s.IsInputOutput()); sp.HasParameter(s =\u003e s.DeviceId); sp.HasParameter(s =\u003e s.FriendlyName); // Ignore this somehow }); entity.DeleteUsingStoredProcedure(\"entity_sp_delete\", sp =\u003e { sp.HasOriginalValueParameter(s =\u003e s.Id); }); entity.UpdateUsingStoredProcedure(\"entity_sp_update\", sp =\u003e { sp.HasOriginalValueParameter(s =\u003e s.Id); sp.HasParameter(s =\u003e s.DeviceId); sp.HasParameter(s =\u003e s.FriendlyName); // Ignore this somehow });\n// Map to a table to avoid #28703, but avoid creating migrations entity.ToTable(\"entity_table\", x =\u003e x.ExcludeFromMigrations()) Due to a bug (missing feature?) in EF Core 7, the stored procedures cannot be used with a view, but only with a table. So if we also map the entity to a table, we bypass a validation rule which then ensures we use the SPs to add/update/delete entities but query the view.\nUsing this approach, we query a view, entity view, at query time, but call the three provided stored procedures on mutations. We of course need to create the view etc., but that's a task for the reader. As a major bonus with views, we can do any kind of logic at query time (with caveats for heavy calculations of course) such as joining on special criteria or calling functions like the spatial features databases have.\n","wordCount":"1150","inLanguage":"en","image":"https://blog.mbwarez.dk.github.io/DALL-E-2023-06-08-19.24.02.png","datePublished":"2023-06-08T16:43:12Z","dateModified":"2023-06-08T16:43:12Z","author":{"@type":"Person","name":"Michael Bisbjerg"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/"},"publisher":{"@type":"Organization","name":"Thoughts, stories and ideas","logo":{"@type":"ImageObject","url":"https://blog.mbwarez.dk.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.mbwarez.dk.github.io/ accesskey=h title="Thoughts, stories and ideas (Alt + H)">Thoughts, stories and ideas</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.mbwarez.dk.github.io/archives title="All posts"><span>All posts</span></a></li><li><a href=https://blog.mbwarez.dk.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://blog.mbwarez.dk.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://github.com/LordMike/ title=Github><span><i class="fa fa-question"></i>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://www.linkedin.com/in/michael-bisbjerg/ title=LinkedIn><span>LinkedIn</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.mbwarez.dk.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://blog.mbwarez.dk.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Entity Framework Core: Querying views, but manipulating tables</h1><div class=post-description>TODO</div><div class=post-meta><span title='2023-06-08 16:43:12 +0000 UTC'>June 8, 2023</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Michael Bisbjerg</div></header><figure class=entry-cover><img loading=eager srcset='https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/DALL-E-2023-06-08-19.24.02_hu_fcb7b116aba2b0b9.png 360w,https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/DALL-E-2023-06-08-19.24.02_hu_96472fa6aa42d7d8.png 480w,https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/DALL-E-2023-06-08-19.24.02_hu_c38d86f071dcb6dd.png 720w,https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/DALL-E-2023-06-08-19.24.02_hu_956553a2b954108e.png 1080w,https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/DALL-E-2023-06-08-19.24.02_hu_4fb24a9a107de1d7.png 1500w,https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/DALL-E-2023-06-08-19.24.02.png 2752w' src=https://blog.mbwarez.dk.github.io/posts/2023/entity-framework-core-querying-views-manipulating-tables/DALL-E-2023-06-08-19.24.02.png sizes="(min-width: 768px) 720px, 100vw" width=2752 height=1024 alt></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#example-problem aria-label="Example problem">Example problem</a></li><li><a href=#things-that-didnt-work aria-label="Things that didn't work">Things that didn't work</a></li><li><a href=#things-that-might-work-an-auto-include-relationship-with-no-foreign-key aria-label="Things that might work, an auto-include relationship with no foreign key">Things that might work, an auto-include relationship with no foreign key</a></li><li><a href=#things-that-might-work-a-view-and-stored-procedures aria-label="Things that might work, a view and stored procedures">Things that might work, a view and stored procedures</a></li></ul></div></details></div><div class=post-content><p>I had a use case for EF Core, where I wanted to use Entity Framework Core to query a database view while supporting updating the database through its classic add/update/delete methods. Specifically, I’d like to enrich my entities with extra info, such as looking up a value, much like a computed column – but since it’s in the database, I can perform filtering on these queried values. The proposed solutions may not scale at all, so reader discretion is advised.</p><h2 id=example-problem>Example problem</h2><p>Imagine an entity, <em>Entity</em>, which has the properties <em>(Id, DeviceId)</em> and another entity, <em>Friendly</em>, which has the properties <em>(DeviceId, FriendlyName)</em>. I want to be able to perform queries that allow the user to filter on <em>FriendlyName</em>, and I want to make this as seamless as possible in EF. Added to that, not all <em>DeviceId's </em>may have <em>FriendlyNames</em>, so it's an optional relationship.</p><p>This example could also extend into more complex relationships, like having a spatial coordinate and wanting a "location name" for this coordinate which requires looking up in another table containing polygons - so it may not always be exact value matching.</p><h2 id=things-that-didnt-work>Things that didn't work</h2><p>I've tried several things.</p><p>For starters, a Computed Column would've been awesome, but neither MySQL nor PostgreSQL allow a lot of stuff here. Typically, anything outside the current table (and row) is disallowed (functions, stored procedures, queries,  ..).</p><p>Create the entity, Entity with <em>(Id, DeviceId, FriendlyName)</em>, but modify the table mapping such that FriendlyName is:</p><ul><li>Not mapped: This makes EF not query the field at all</li><li>Mapped, but marked as Database Generated on Add and Update: This queries the field, and at the same time avoids insert / updating it - but it requires the property to exist in the table. This would be great with Computed Columns, but they are unfortunately quite limited in MySQL and PostgreSQL.</li></ul><p>Another approach is using a view, where the view performs the necessary query to enrich the table with the extra property <em>FriendlyName</em>.</p><ul><li>Use the Fluent API to map the entity to a Table <em>and</em> a View at the same time: This has the fun side effect that insert/add/update seem to happen on the table, but querying happens in the view. Combine this with the above and we can avoid attempting to write to the view-only <em>FriendlyName</em>. Unfortunately, in the case of adding, EF tries to fetch the generated value for <em>FriendlyName</em>, not from the view, but from the table. This obviously fails as the table does not have the property.</li></ul><p>EF also supports some strategies to <a href=https://learn.microsoft.com/en-us/ef/core/modeling/table-splitting#table-splitting>split entities up into multiple tables</a>. This has the drawback that these relationships <em>must</em> exist (they're required), and that they must work as foreign key relationships (exact value matching). Other than that, this works as a form of automatic joining of tables to perform stuff, which is also acceptable for me.</p><p>Like splitting, there is also a strategy of "discriminating" multiple types into the same table. This can be done with for example an <em>Entity</em> and <em>EnrichedEntity</em> on top of a view. In this case, we map the two types to the same underlying view, and in our application, we add/update/delete the <em>Entity</em> type. At query time though, EF will create either <em>Entity </em>or <em>EnrichedEntity</em> types, based on the existence of the <em>FriendlyName</em> property. The drawback here is obviously the two types needed, and that queried entities cannot be served back to for example delete or update, as EF will attempt to manipulate the read-only <em>FriendlyName</em> field.</p><p>And finally, in EF 7, a <a href=https://learn.microsoft.com/en-us/ef/core/modeling/table-splitting#entity-splitting>new <em>SplitToTable </em>and <em>SplitToView</em></a><em> </em>were introduced. These would've been amazing if they could mix. The SplitToXXX functions are an extremely convenient shorthand to ensure that a single entity can live in multiple tables or views. I would have liked to use it with a table for my entity and a view for my computed column(s). I would have liked EF to query both the table and the view, but only manipulate the table - unfortunately splits have to be across <em>only</em> tables or <em>only</em> views.</p><h2 id=things-that-might-work-an-auto-include-relationship-with-no-foreign-key>Things that might work, an auto-include relationship with no foreign key<a hidden class=anchor aria-hidden=true href=#example-problem>#</a></h2><p>We all know we can make entities related like the following pseudo code snippet. What this gives us, is an automatic join when querying <em>Entity</em> to also populate <em>FriendlyEntity</em>.</p><pre><code class=language-csharp>class Entity { string Id; string DeviceId; Friendly FriendlyEntity; }
class Friendly { string DeviceId; string FriendlyName; }
<p>// Join the two in model building
var entity = modelBuilder.Entity&lt;Entity&gt;();
entity.HasOne(s =&gt; s.FriendlyEntity)
.WithMany()
// Prevent setting the relationship to null at any point
.OnDelete(DeleteBehavior.ClientNoAction)
.HasForeignKey(s =&gt; s.DeviceId)
.HasPrincipalKey(s =&gt; s.DeviceId)
.IsRequired(false);
entity.Navigation(s =&gt; s.FriendlyName).AutoInclude();
</code></pre></p><p>While the relationship technically is optional, at least in my experience with Pomelo, the migrations generated will create a foreign key constraint. This means that I cannot add a new <em>Entity</em> that does not have a corresponding <em>Friendly</em> entity in the database. If we hack out that foreign key constraint from the migrations, this is a completely valid solution. It requires some maintenance though to keep the FK relationship out of migrations (EF will assume it exists and possible update it, delete it etc. in the future).</p><h2 id=things-that-might-work-a-view-and-stored-procedures>Things that might work, a view and stored procedures<a hidden class=anchor aria-hidden=true href=#things-that-might-work-a-view-and-stored-procedures>#</a></h2><p>If we create an entity that matches a view we want, we can then seamlessly query on that view and let the DB do all the heavy lifting of joining stuff up. EF <em>will</em> allow us to update the entities, as some views are updateable, but most likely my views won't be: they join tables. What I instead can do, is map the mutations to SP's, and simply use those to redirect add/update/delete to the backing table.</p><pre><code class=language-csharp>class Entity { string Id; string DeviceId; string FriendlyName; }
<p>// Map to a view in model building
var entity = modelBuilder.Entity&lt;Entity&gt;();
entity.ToView(&quot;entity_view&quot;);</p>
<p>// Map to stored procedures
entity.InsertUsingStoredProcedure(&quot;entity_sp_insert&quot;, sp =&gt;
{
sp.HasParameter(s =&gt; s.Id, s =&gt; s.IsInputOutput());
sp.HasParameter(s =&gt; s.DeviceId);
sp.HasParameter(s =&gt; s.FriendlyName); // Ignore this somehow
});
entity.DeleteUsingStoredProcedure(&quot;entity_sp_delete&quot;, sp =&gt;
{
sp.HasOriginalValueParameter(s =&gt; s.Id);
});
entity.UpdateUsingStoredProcedure(&quot;entity_sp_update&quot;, sp =&gt;
{
sp.HasOriginalValueParameter(s =&gt; s.Id);
sp.HasParameter(s =&gt; s.DeviceId);
sp.HasParameter(s =&gt; s.FriendlyName); // Ignore this somehow
});</p>
<p>// Map to a table to avoid #28703, but avoid creating migrations
entity.ToTable(&quot;entity_table&quot;, x =&gt; x.ExcludeFromMigrations())
</code></pre></p><p>Due to <a href=https://github.com/dotnet/efcore/issues/28703>a bug (missing feature?) in EF Core 7</a>, the stored procedures cannot be used with a view, but only with a table. So if we also map the entity to a table, we bypass a validation rule which then ensures we use the SPs to add/update/delete entities but query the view.</p><p>Using this approach, we query a view, <em>entity view</em>, at query time, but call the three provided stored procedures on mutations. We of course need to create the view etc., but that's a task for the reader.</p><p>As a major bonus with views, we can do <em>any</em> kind of logic at query time (with caveats for heavy calculations of course) such as joining on special criteria or calling functions like the spatial features databases have.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://blog.mbwarez.dk.github.io/posts/2021/entityframework-core-composite-key-filtering/><span class=title>Next »</span><br><span>EntityFramework Core – Composite key filtering</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework Core: Querying views, but manipulating tables on x" href="https://x.com/intent/tweet/?text=Entity%20Framework%20Core%3a%20Querying%20views%2c%20but%20manipulating%20tables&amp;url=https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework Core: Querying views, but manipulating tables on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f&amp;title=Entity%20Framework%20Core%3a%20Querying%20views%2c%20but%20manipulating%20tables&amp;summary=Entity%20Framework%20Core%3a%20Querying%20views%2c%20but%20manipulating%20tables&amp;source=https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework Core: Querying views, but manipulating tables on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f&title=Entity%20Framework%20Core%3a%20Querying%20views%2c%20but%20manipulating%20tables"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework Core: Querying views, but manipulating tables on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework Core: Querying views, but manipulating tables on whatsapp" href="https://api.whatsapp.com/send?text=Entity%20Framework%20Core%3a%20Querying%20views%2c%20but%20manipulating%20tables%20-%20https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework Core: Querying views, but manipulating tables on telegram" href="https://telegram.me/share/url?text=Entity%20Framework%20Core%3a%20Querying%20views%2c%20but%20manipulating%20tables&amp;url=https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework Core: Querying views, but manipulating tables on ycombinator" href="https://news.ycombinator.com/submitlink?t=Entity%20Framework%20Core%3a%20Querying%20views%2c%20but%20manipulating%20tables&u=https%3a%2f%2fblog.mbwarez.dk.github.io%2fposts%2f2023%2fentity-framework-core-querying-views-manipulating-tables%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>© <a href=https://github.com/LordMike>Michael Bisbjerg</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>